import{n as b,q as w,u as L,ac as ue,ad as fe,ae as Y,af as ve,U as S,ag as me,$ as W,N as z,m as R,y as j,X as Z,d as f,ah as J,s as p,ai as ye,A as U,f as Q,v as X,B as K,J as I,Q as he,V as pe,S as ee,W as te,aj as ke,T as ge,ak as Ce,al as _e,F as Oe,am as we,an as Ie,a1 as V,ao as be,I as oe,ap as Se,M as xe,aq as Pe,ar as Be,a4 as Te,as as ze,at as Ae,E as Ee,a5 as Le,_ as De,o as Ne,c as Me,b as u,p as $e,k as Re}from"./index.10d6f7a6.js";const je={show:Boolean,zIndex:b,overlay:w,duration:b,teleport:[String,Object],lockScroll:w,lazyRender:w,beforeClose:Function,overlayStyle:Object,overlayClass:L,transitionAppear:Boolean,closeOnClickOverlay:w};let P=0;const q="van-overflow-hidden";function Ue(e,t){const o=ue(),c="01",n="10",a=l=>{o.move(l);const r=o.deltaY.value>0?n:c,C=me(l.target,e.value),{scrollHeight:g,offsetHeight:_,scrollTop:x}=C;let O="11";x===0?O=_>=g?"00":"01":x+_>=g&&(O="10"),O!=="11"&&o.isVertical()&&!(parseInt(O,2)&parseInt(r,2))&&W(l,!0)},s=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",a,{passive:!1}),P||document.body.classList.add(q),P++},d=()=>{P&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",a),P--,P||document.body.classList.remove(q))},k=()=>t()&&s(),m=()=>t()&&d();fe(k),Y(m),ve(m),S(t,l=>{l?s():d()})}function ne(e){const t=z(!1);return S(e,o=>{o&&(t.value=o)},{immediate:!0}),o=>()=>t.value?o():null}const[Ke,Ve]=R("overlay"),Fe={show:Boolean,zIndex:b,duration:b,className:L,lockScroll:w,lazyRender:w,customStyle:Object};var He=j({name:Ke,props:Fe,setup(e,{slots:t}){const o=z(),c=ne(()=>e.show||!e.lazyRender),n=s=>{e.lockScroll&&W(s,!0)},a=c(()=>{var s;const d=p(ye(e.zIndex),e.customStyle);return U(e.duration)&&(d.animationDuration=`${e.duration}s`),Q(f("div",{ref:o,style:d,class:[Ve(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[X,e.show]])});return Z("touchmove",n,{target:o}),()=>f(J,{name:"van-fade",appear:!0},{default:a})}});const qe=K(He),Ge=p({},je,{round:Boolean,position:I("center"),closeIcon:I("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:I("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ye,G]=R("popup");var We=j({name:Ye,inheritAttrs:!1,props:Ge,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:o,slots:c}){let n,a;const s=z(),d=z(),k=ne(()=>e.show||!e.lazyRender),m=he(()=>{const i={zIndex:s.value};if(U(e.duration)){const h=e.position==="center"?"animationDuration":"transitionDuration";i[h]=`${e.duration}s`}return i}),l=()=>{n||(n=!0,s.value=e.zIndex!==void 0?+e.zIndex:we(),t("open"))},r=()=>{n&&Ie(e.beforeClose,{done(){n=!1,t("close"),t("update:show",!1)}})},C=i=>{t("click-overlay",i),e.closeOnClickOverlay&&r()},g=()=>{if(e.overlay)return f(qe,{show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:C},{default:c["overlay-content"]})},_=i=>{t("click-close-icon",i),r()},x=()=>{if(e.closeable)return f(oe,{role:"button",tabindex:0,name:e.closeIcon,class:[G("close-icon",e.closeIconPosition),be],classPrefix:e.iconPrefix,onClick:_},null)},O=()=>t("opened"),ce=()=>t("closed"),ie=i=>t("keydown",i),re=k(()=>{var i;const{round:h,position:E,safeAreaInsetTop:$,safeAreaInsetBottom:de}=e;return Q(f("div",V({ref:d,style:m.value,role:"dialog",tabindex:0,class:[G({round:h,[E]:E}),{"van-safe-area-top":$,"van-safe-area-bottom":de}],onKeydown:ie},o),[(i=c.default)==null?void 0:i.call(c),x()]),[[X,e.show]])}),H=()=>{const{position:i,transition:h,transitionAppear:E}=e,$=i==="center"?"van-fade":`van-popup-slide-${i}`;return f(J,{name:h||$,appear:E,onAfterEnter:O,onAfterLeave:ce},{default:re})};return S(()=>e.show,i=>{i&&!n&&(l(),o.tabindex===0&&pe(()=>{var h;(h=d.value)==null||h.focus()})),!i&&n&&(n=!1,t("close"))}),ee({popupRef:d}),Ue(d,()=>e.show&&e.lockScroll),Z("popstate",()=>{e.closeOnPopstate&&(r(),a=!1)}),te(()=>{e.show&&l()}),ke(()=>{a&&(t("update:show",!0),a=!1)}),Y(()=>{e.show&&e.teleport&&(r(),a=!0)}),ge(Ce,()=>e.show),()=>e.teleport?f(_e,{to:e.teleport},{default:()=>[g(),H()]}):f(Oe,null,[g(),H()])}});const Ze=K(We);function Je(){const e=xe({show:!1}),t=n=>{e.show=n},o=n=>{p(e,n,{transitionAppear:!0}),t(!0)},c=()=>t(!1);return ee({open:o,close:c,toggle:t}),{open:o,close:c,state:e,toggle:t}}function Qe(e){const t=Se(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}let B=0;function Xe(e){e?(B||document.body.classList.add("van-toast--unclickable"),B++):B&&(B--,B||document.body.classList.remove("van-toast--unclickable"))}const[et,T]=R("toast"),tt=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],ot={icon:String,show:Boolean,type:I("text"),overlay:Boolean,message:b,iconSize:b,duration:Pe(2e3),position:I("middle"),teleport:[String,Object],className:L,iconPrefix:String,transition:I("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:L,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var ae=j({name:et,props:ot,emits:["update:show"],setup(e,{emit:t}){let o,c=!1;const n=()=>{const l=e.show&&e.forbidClick;c!==l&&(c=l,Xe(c))},a=l=>t("update:show",l),s=()=>{e.closeOnClick&&a(!1)},d=()=>clearTimeout(o),k=()=>{const{icon:l,type:r,iconSize:C,iconPrefix:g,loadingType:_}=e;if(l||r==="success"||r==="fail")return f(oe,{name:l||r,size:C,class:T("icon"),classPrefix:g},null);if(r==="loading")return f(ze,{class:T("loading"),size:C,type:_},null)},m=()=>{const{type:l,message:r}=e;if(U(r)&&r!=="")return l==="html"?f("div",{key:0,class:T("text"),innerHTML:String(r)},null):f("div",{class:T("text")},[r])};return S(()=>[e.show,e.forbidClick],n),S(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(o=setTimeout(()=>{a(!1)},e.duration))}),te(n),Be(n),()=>f(Ze,V({class:[T([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:d,"onUpdate:show":a},Te(e,tt)),{default:()=>[k(),m()]})}});const se={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let y=[],M=!1,D=p({},se);const N=new Map;function le(e){return Ee(e)?e:{message:e}}function nt(){const{instance:e,unmount:t}=Qe({setup(){const o=z(""),{open:c,state:n,close:a,toggle:s}=Je(),d=()=>{M&&(y=y.filter(m=>m!==e),t())},k=()=>f(ae,V(n,{onClosed:d,"onUpdate:show":s}),null);return S(o,m=>{n.message=m}),Le().render=k,{open:c,clear:a,message:o}}});return e}function at(){if(!y.length||M){const e=nt();y.push(e)}return y[y.length-1]}function v(e={}){if(!Ae)return{};const t=at(),o=le(e);return t.open(p({},D,N.get(o.type||D.type),o)),t}const F=e=>t=>v(p({type:e},le(t)));v.loading=F("loading");v.success=F("success");v.fail=F("fail");v.clear=e=>{var t;y.length&&(e?(y.forEach(o=>{o.clear()}),y=[]):M?(t=y.shift())==null||t.clear():y[0].clear())};function st(e,t){typeof e=="string"?N.set(e,t):p(D,e)}v.setDefaultOptions=st;v.resetDefaultOptions=e=>{typeof e=="string"?N.delete(e):(D=p({},se),N.clear())};v.allowMultiple=(e=!0)=>{M=e};v.install=e=>{e.use(K(ae)),e.config.globalProperties.$toast=v};const lt={methods:{tips(){const e=v.loading({duration:0,forbidClick:!0,message:"\u7F51\u7EDC\u6CE2\u52A8~"});let t=3;const o=setInterval(()=>{t--,t?e.message=`\u8BF7${t}\u79D2\u540E\u91CD\u8BD5~`:(clearInterval(o),v.clear())},1e3)}}},A=e=>($e("data-v-6e434ca9"),e=e(),Re(),e),ct={class:"box123"},it={class:"content"},rt=A(()=>u("div",{class:"head"},[u("p",null,"\u7ED8\u672C\u738B\u56FD")],-1)),dt={class:"load"},ut=A(()=>u("div",{class:"area"},[u("p",null,"\u56FD\u5BB6/\u5730\u533A"),u("p",null,"\u4E2D\u56FD\u5927\u9646 \xA0 >")],-1)),ft=A(()=>u("div",{class:"input"},[u("input",{type:"text",placeholder:"\u586B\u5199\u624B\u673A\u53F7"})],-1)),vt={class:"input"},mt=A(()=>u("input",{type:"text",placeholder:"\u586B\u5199\u9A8C\u8BC1\u7801"},null,-1)),yt={class:"input"},ht=A(()=>u("p",{class:"text"},"\u65B0\u53F7\u7801\u83B7\u53D6\u9A8C\u8BC1\u7801\u8FDB\u884C\u6CE8\u518C~",-1));function pt(e,t,o,c,n,a){return Ne(),Me("div",ct,[u("div",it,[rt,u("div",dt,[ut,ft,u("div",vt,[mt,u("p",{onClick:t[0]||(t[0]=(...s)=>a.tips&&a.tips(...s))},"\u83B7\u53D6\u9A8C\u8BC1\u7801")]),u("div",yt,[u("button",{onClick:t[1]||(t[1]=(...s)=>a.tips&&a.tips(...s))},"\u767B\u5F55")]),ht])])])}const gt=De(lt,[["render",pt],["__scopeId","data-v-6e434ca9"]]);export{gt as default};
